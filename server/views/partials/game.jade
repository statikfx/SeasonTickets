ul.game(id="#{game._id}", class="#{game.status}")
  li.date
    = helpers.getDayOfDate(new Date(game.date));
  li.day
    = helpers.getDayOfWeekOfDate(new Date(game.date + " " + game.time), true)
    | .
  li.time
    = game.time
  li.price
    = game.price
  - if (game.seats.length < 1)
    li.seat
      | No Seats Available
  - var section = 0;
  - var row = 0;
  - each seat in game.seats
    li.seat
      - if (section != seat.section)
        | S.#{seat.section}R.#{seat.row}S.#{seat.seat} - $#{seat.price}
      - if (section == seat.section)
        - if (row == seat.row)
          | S.#{seat.seat} - $#{seat.price}
        - if (row != seat.row)
          | R.#{seat.row}S.#{seat.seat} - $#{seat.price}
    - section = seat.section;
    - row = seat.row;
  - if (admin)
    li.seat
      a(href='#add-seat') Add Seat
      |  |
    li.approve-reject
      - if (game.status !== "approved")
        a.approve(href="#{helpers.appendBaseURL('/admin/', 'game/' + game._id + '/approve/')}") approve
      - if (game.status !== "approved" && game.status !== "rejected")
        |  | 
      - if (game.status !== "rejected")
        a.reject(href="#{helpers.appendBaseURL('/admin/', 'game/' + game._id + '/reject/')}") reject
    li
      - each tier in pricing
        - if (tier._id == game.priceid)
          | #{tier.shortname} |
        - if (tier._id != game.priceid)
          a.setprice(href="#{helpers.appendBaseURL('/api/', 'set/' + game._id + '/price/'+ tier._id +'/')}") #{tier.shortname} |
  li
    - var gameURL = helpers.getDateForURL(game.date);
    - var rootURL = "/";
    - if (admin)
      - rootURL = "/admin";
    a.view(href="#{helpers.appendBaseURL(rootURL, 'game/' + gameURL + '/')}") View
  .clear
